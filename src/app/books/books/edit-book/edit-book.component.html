<div class="col-lg-6 col-12">
  <app-message [isError]="isError" [message]="message"></app-message>
</div>

<div class="col-lg-6 col-12">
  <div class="box">
    <div class="box-header with-border bg-light">
      <h4 class="box-title">Cập nhật sách</h4>
      <ul class="box-controls pull-right">
        <li><a class="box-btn-fullscreen" href="#"></a></li>
      </ul>
    </div>
    <!-- /.box-header -->
    <form class="form" #myForm="ngForm" *ngIf="book">
      <div class="box-body">
        <div class="form-group">
          <label for="title">Tựa sách</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="ti-user"></i></span>
            </div>
            <input
              id="title"
              type="text"
              class="form-control"
              placeholder="Tựa sách"
              name="title"
              [(ngModel)]="book.title"
            />
          </div>
        </div>

        <div class="form-group">
          <label for="authors">Tác giả</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="ti-user"></i></span>
            </div>
            <input
              id="authors"
              type="text"
              class="form-control"
              placeholder="Tác giả"
              name="authors"
              [(ngModel)]="book.authors"
            />
          </div>
        </div>

        <div class="form-group">
          <label for="isbn">ISBN</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="ti-user"></i></span>
            </div>
            <input
              id="isbn"
              type="text"
              class="form-control"
              placeholder="isbn"
              name="isbn"
              [(ngModel)]="book.isbn"
            />
          </div>
        </div>

        <div class="form-group">
          <label for="ages">Nhóm tuổi</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="ti-user"></i></span>
            </div>
            <input
              id="ages"
              type="text"
              class="form-control"
              name="ages"
              [(ngModel)]="book.ages"
            />
          </div>
        </div>

        <div class="form-group">
          <label for="publisher">Nhà xuất bản</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="ti-user"></i></span>
            </div>
            <input
              id="publisher"
              type="text"
              class="form-control"
              name="publisher"
              [(ngModel)]="book.publishing_company"
            />
          </div>
        </div>

        <div *ngIf="categories" class="form-group">
          <label for="categories">Danh mục sách</label>
          <select
            id="categories"
            class="form-control"
            name="category_id"
            [(ngModel)]="book.category_id"
          >
            <option
              *ngFor="let category of categories"
              value="{{ category['id'] }}"
              >{{ category["name"] }}</option
            >
          </select>
        </div>

        <div *ngIf="bookStatus" class="form-group">
          <label for="status">Tình trạng</label>
          <select
            id="status"
            class="form-control"
            name="status_id"
            [(ngModel)]="book.status_id"
          >
            <option
              *ngFor="let status of bookStatus"
              value="{{ status['id'] }}"
              >{{ status["title"] }}</option
            >
          </select>
        </div>

      </div>
      <!-- /.box-body -->
      <div class="box-footer">
        <button
          type="submit"
          class="btn btn-primary btn-outline"
          (click)="updateBook(myForm)"
        >
          <i class="ti-save-alt"></i> Cập nhật sách
        </button>
      </div>
    </form>
  </div>
  <!-- /.box -->
</div>
